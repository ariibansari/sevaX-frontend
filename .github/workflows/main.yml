name: ðŸš€ Deploy React app

on:
  push:
    branches:
      - master

jobs:
  build-and-deploy:
    name: ðŸ›  Build and Deploy
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up Node.js
        uses: actions/setup-node@v2
        with:
          node-version: 18

      - name: Install dependencies
        run: npm i

      - name: Build React app
        run: npm run build

      - name: SFTP uploader
        uses: wangyucode/sftp-upload-action@v1.4.8
        with:
          port: 21
          host: 'ftp.ansariarib.com'
          username: 'u641483924.u641483924'
          password: 'Arib@123'
          remoteDir: './sevax'
          localDir: './build'
          dryRun: false
